{"ast":null,"code":"import _slicedToArray from\"C:/Users/almog/ReactPro/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"C:/Users/almog/ReactPro/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/almog/ReactPro/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useReducer}from\"react\";import logger from'use-reducer-logger';import{jsx as _jsx}from\"react/jsx-runtime\";export var Store=/*#__PURE__*/createContext();var initialState={cart:{cartItems:[],total:0}};var reducer=function reducer(state,action){switch(action.type){case\"ADD_TO_CART\":return _objectSpread(_objectSpread({},state),{},{cart:{cartItems:[].concat(_toConsumableArray(state.cart.cartItems),[action.payload.product]),total:state.cart.total+action.payload.price}});case\"DELETE_CART\":return _objectSpread(_objectSpread({},state),{},{cart:{cartItems:[],total:0}});case\"ADD_TO_CART_ERROR\":return _objectSpread(_objectSpread({},state),{},{error:action.payload});default:return state;}};export default function StoreProvider(props){var _useReducer=useReducer(logger(reducer),initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var value={state:state,dispatch:dispatch};return/*#__PURE__*/_jsx(Store.Provider,{value:value,children:props.children});};","map":{"version":3,"names":["createContext","useReducer","logger","Store","initialState","cart","cartItems","total","reducer","state","action","type","payload","product","price","error","StoreProvider","props","dispatch","value","children"],"sources":["C:/Users/almog/ReactPro/client/src/Store.js"],"sourcesContent":["import { createContext, useReducer } from \"react\";\nimport logger from 'use-reducer-logger';\n\nexport const Store = createContext();\n\nconst initialState = {\n    cart: {\n        cartItems: [],\n        total: 0,\n    },\n};\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case \"ADD_TO_CART\":\n            return {\n                ...state,\n                cart: {\n                    cartItems: [...state.cart.cartItems, action.payload.product],\n                    total: state.cart.total + action.payload.price,\n                },\n            };\n        case \"DELETE_CART\":\n            return {\n                ...state,\n                cart: {\n                    cartItems: [],\n                    total: 0,\n                },\n            };\n\n        case \"ADD_TO_CART_ERROR\":\n            return { ...state, error: action.payload };\n        default:\n            return state;\n    }\n};\n\nexport default function StoreProvider(props) {\n    const [state, dispatch] = useReducer(logger(reducer), initialState);\n    const value = { state, dispatch };\n    return <Store.Provider value={value}>{props.children}</Store.Provider>;\n};\n\n"],"mappings":"mWAAA,OAASA,aAAa,CAAEC,UAAU,KAAQ,OAAO,CACjD,MAAOC,OAAM,KAAM,oBAAoB,CAAC,2CAExC,MAAO,IAAMC,MAAK,cAAGH,aAAa,EAAE,CAEpC,GAAMI,aAAY,CAAG,CACjBC,IAAI,CAAE,CACFC,SAAS,CAAE,EAAE,CACbC,KAAK,CAAE,CACX,CACJ,CAAC,CAED,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,KAAK,CAAEC,MAAM,CAAK,CAC/B,OAAQA,MAAM,CAACC,IAAI,EACf,IAAK,aAAa,CACd,sCACOF,KAAK,MACRJ,IAAI,CAAE,CACFC,SAAS,8BAAMG,KAAK,CAACJ,IAAI,CAACC,SAAS,GAAEI,MAAM,CAACE,OAAO,CAACC,OAAO,EAAC,CAC5DN,KAAK,CAAEE,KAAK,CAACJ,IAAI,CAACE,KAAK,CAAGG,MAAM,CAACE,OAAO,CAACE,KAC7C,CAAC,GAET,IAAK,aAAa,CACd,sCACOL,KAAK,MACRJ,IAAI,CAAE,CACFC,SAAS,CAAE,EAAE,CACbC,KAAK,CAAE,CACX,CAAC,GAGT,IAAK,mBAAmB,CACpB,sCAAYE,KAAK,MAAEM,KAAK,CAAEL,MAAM,CAACE,OAAO,GAC5C,QACI,MAAOH,MAAK,CAAC,CAEzB,CAAC,CAED,cAAe,SAASO,cAAa,CAACC,KAAK,CAAE,CACzC,gBAA0BhB,UAAU,CAACC,MAAM,CAACM,OAAO,CAAC,CAAEJ,YAAY,CAAC,4CAA5DK,KAAK,iBAAES,QAAQ,iBACtB,GAAMC,MAAK,CAAG,CAAEV,KAAK,CAALA,KAAK,CAAES,QAAQ,CAARA,QAAS,CAAC,CACjC,mBAAO,KAAC,KAAK,CAAC,QAAQ,EAAC,KAAK,CAAEC,KAAM,UAAEF,KAAK,CAACG,QAAQ,EAAkB,CAC1E,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}